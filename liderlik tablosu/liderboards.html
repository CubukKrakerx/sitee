<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Liderlik Tablosu</title>
<style>
table {
  width: 300px;
  margin: 50px auto;
  border-collapse: collapse;
  font-family: Arial, sans-serif;
  text-align: center;
  box-shadow: 0 0 10px rgba(0,0,0,0.2);
}
th, td { padding: 10px; border: 1px solid #ccc; }
th { background-color: orange; color: white; }
tr:nth-child(even) { background-color: #f9f9f9; }
button { margin: 10px auto; display: block; padding: 8px 15px; cursor: pointer; }
</style>
</head>
<body>
<button onclick="loadLeaderboard()">Tabloyu Güncelle</button>
<table>
<thead><tr><th>İsim</th><th>Skor</th></tr></thead>
<tbody id="leaderboard"></tbody>
</table>

<script>
async function loadLeaderboard() {
    try {
        const res = await fetch('/.netlify/functions/get_scores');
        const data = await res.json();
        const tbody = document.getElementById('leaderboard');
        tbody.innerHTML = '';
        data.forEach(item => {
            const tr = document.createElement('tr');
            tr.innerHTML = `<td>${item.name}</td><td>${item.score}</td>`;
            tbody.appendChild(tr);
        });
    } catch(e) {
        console.error("Leaderboard yüklenemedi:", e);
    }
}

// Sayfa açılınca tabloyu yükle
loadLeaderboard();
</script>
</body>
</html>
